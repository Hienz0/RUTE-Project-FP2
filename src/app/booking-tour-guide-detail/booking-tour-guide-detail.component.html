<nav class="navbar navbar-expand-lg navbar-light bg-transparent">
    <a class="navbar-brand" href="/dashboard">
        <img src="../../assets/images/rute-logo-temp.png" alt="Logo" class="logo">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">Accomodation</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Tour & Guide</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Restaurant</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Transportation</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="">Itinerary Planning</a>
            </li>
            <li class="nav-item dropdown" id="navProfile">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown"
                  aria-expanded="false">
                    <img src="../../assets/images/sample photo/1.jpeg" alt="Profile" class="rounded-circle"
                      style="width: 30px; height: 30px;">
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
                    <li *ngIf="currentUser"><span class="dropdown-item">{{ currentUser.name }}</span></li>
                    <li><a class="dropdown-item" href="#"><i class="fas fa-user"></i> Customize User Profile</a></li>
                    <li><a class="dropdown-item" href="#"><i class="fas fa-paint-brush"></i> Change Theme</a></li>
                    <li><a class="dropdown-item" href="#"><i class="fas fa-key"></i> Reset Password</a></li>
                    <li *ngIf="currentUser.userType === 'user'"><a class="dropdown-item" href="/provider-registration"><i class="fas fa-user-plus"></i> Register as Provider</a></li>
                    <li *ngIf="currentUser.userType !== 'user'"><a class="dropdown-item" href="/manage-services"><i class="fas fa-exchange-alt"></i> Switch to Provider Mode</a></li>
                    <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt"></i> Log Out</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="form-inline">
        <select class="custom-select">
            <option selected>EN</option>
            <option>IND</option>
        </select>
    </div>
  </nav>
  
  <div *ngIf="tourguideDetail" class="container my-5">
    <!-- tourguide Title and Description -->
    <div class="row">
      <div class="col-12 text-center">
        <h1 class="display-4">{{ tourguideDetail.productName }}</h1>
        <p class="lead text-muted">{{ tourguideDetail.productDescription }}</p>
      </div>
    </div>
  
    <!-- Carousel for tourguide Images -->
    <div *ngIf="tourguideDetail.productImages?.length" class="row my-5">
      <div id="tourguideCarousel" class="carousel slide col-12 col-md-8 offset-md-2" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div
            *ngFor="let image of tourguideDetail.productImages; let isFirst = first"
            [class.active]="isFirst"
            class="carousel-item"
          >
            <img
              [src]="'http://localhost:3000/' + image"
              class="d-block w-100"
              alt="{{ tourguideDetail.productName }}"
              style="height: 400px; object-fit: cover;"
            />
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#tourguideCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#tourguideCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  
    <!-- Price and Location -->
    <div class="row text-center">
      <div class="col-12">
        <p><strong>Price:</strong> {{ tourguideDetail.productPrice | currency }}</p>
        <p><strong>Location:</strong> {{ tourguideDetail.location }}</p>
      </div>
    </div>
  
    <!-- Booking Section -->
    <div class="row mt-5">
      <div class="col-12 text-center">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" (click)="openModal()">
          Book Now
        </button>
      </div>
    </div>
  
  <!-- Booking Modal -->
  <div class="fixed z-10 inset-0 overflow-y-auto" *ngIf="isModalOpen">
    <div class="flex items-center justify-center min-h-screen px-4">
      <!-- Background Overlay -->
      <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
  
      <!-- Modal Container -->
      <div class="relative bg-white rounded-lg shadow-lg overflow-hidden transform transition-all sm:max-w-lg w-full">
        <!-- Modal Header -->
        <div class="bg-blue-500 p-5">
          <h3 class="text-lg leading-6 font-semibold text-white text-center">
            Book tourguide
          </h3>
        </div>
  
        <!-- Modal Content -->
        <div class="px-6 py-5">
          <form (submit)="submitBooking()">
            <!-- Guest Name -->
            <div class="mb-4">
              <label for="guestName" class="block text-sm font-medium text-gray-700">Guest Name</label>
              <input
                id="guestName"
                type="text"
                [(ngModel)]="bookingDetails.customerName"
                name="guestName"
                placeholder="Enter your name"
                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                required
              />
            </div>
  
           <!-- tourguide Type -->
<div class="mb-4">
    <label for="tourguideType" class="block text-sm font-medium text-gray-700">Tour Type</label>
    <select
      id="tourguideType"
      [(ngModel)]="bookingDetails.tourguideType"
      name="tourguideType"
      class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
      required
    >
      <!-- Add the two options manually -->
      <option [value]="'With Guide'">With Guide</option>
      <option [value]="'Tour Only'">Tour Only</option>
    </select>
  </div>
  
  
            <!-- Number of Guests -->
            <div class="mb-4">
              <label for="numberOfGuests" class="block text-sm font-medium text-gray-700">Number of Guests</label>
              <input
                id="numberOfGuests"
                type="number"
                [(ngModel)]="bookingDetails.numberOfParticipants"
                name="numberOfGuests"
                min="1"
                placeholder="Enter number of guests"
                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                required
              />
            </div>

                  <!-- Tour Date -->
        <div class="mb-4">
          <label for="tourDate" class="block text-sm font-medium text-gray-700">Tour Date</label>
          <input
            id="tourDate"
            type="date"
            [(ngModel)]="bookingDetails.tourDate"
            name="tourDate"
            min="{{ currentDate | date:'yyyy-MM-dd' }}"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
            required
          />
        </div>

        <!-- TOUR TIME -->
        <div class="mb-4">
          <label for="tourTime" class="block text-sm font-medium text-gray-700">Tour Time</label>
          <select
            id="tourTime"
            [(ngModel)]="bookingDetails.tourTime"
            name="tourTime"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
            required
          >
            <option value="" disabled selected>Select a time</option>
            <option value="9:00-11:00">9:00-11:00</option>
            <option value="13:00-15:00">13:00-15:00</option>
            <option value="17:00-19:00">17:00-19:00</option>
          </select>
        </div>

        <!-- TOUR TIME RADIO -->
        <!-- <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700">Tour Time</label>
          <div class="flex flex-col space-y-2">
            <label class="inline-flex items-center">
              <input type="radio" [(ngModel)]="bookingDetails.tourTime" name="tourTime" value="9:00-11:00" class="form-radio" required>
              <span class="ml-2">9:00-11:00</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" [(ngModel)]="bookingDetails.tourTime" name="tourTime" value="13:00-15:00" class="form-radio">
              <span class="ml-2">13:00-15:00</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" [(ngModel)]="bookingDetails.tourTime" name="tourTime" value="17:00-19:00" class="form-radio">
              <span class="ml-2">17:00-19:00</span>
            </label>
          </div>
        </div> -->
        

        <div>
          <label for="pickupLocation">Pick-Up Location</label>
          <input id="pickupLocation" type="text" value=" Ubud Palaces" readonly />
        </div>
        
        <!-- Menampilkan Peta -->
         <!-- booking-tour-guide-detail.component.html -->
<div class="container">
    <!-- Other content -->

    <!-- Menampilkan Peta -->
    <div #mapContainer id="map" style="height: 400px;"></div> <!-- Set height appropriately -->
    
    <!-- Other content -->
</div>

            <!-- Special Request -->
            <div class="mb-4">
              <label for="specialRequest" class="block text-sm font-medium text-gray-700">Special Request</label>
              <textarea
                id="specialRequest"
                [(ngModel)]="bookingDetails.specialRequest"
                name="specialRequest"
                placeholder="Enter any special requests"
                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                rows="3"
              ></textarea>
            </div>
  
            <!-- Modal Actions -->
            <div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse">
              <button type="submit" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-500 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm">
                Book Now
              </button>
              <button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm" (click)="closeModal()">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  </div>